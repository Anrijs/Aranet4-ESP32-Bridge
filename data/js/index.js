function updateCards(){fetch("/data").then(e=>e.text()).then(e=>{let t=e.split("\n");var a=300;for(let e of t){let t=e.split(";");if(t.length<11)continue;let o=t[0],m=document.querySelector('[data-id*="'+o+'"]');if(!m)continue;let r=t[3],c=t[7];var n="co2-none";0==r?kalss="co2-none":n=r<1e3?"co2-ok":r<1400?"co2-warn":"co2-alert";var s="";s=c>90?"100":c>80?"90":c>70?"80":c>60?"70":c>50?"60":c>40?"50":c>30?"40":c>20?"30":c>10?"20":"10";var l="bluetooth";t[10]>parseInt(t[8])+5&&(l="bluetoothred",n="co2-none"),m.getElementsByClassName("cardimg")[0].src="/img/"+l+".png",m.getElementsByClassName("batt-val")[0].src="/img/battery_"+s+".png",m.getElementsByClassName("co2-txt")[0].textContent=r,m.getElementsByClassName("temp-val")[0].textContent=t[4],m.getElementsByClassName("humi-val")[0].textContent=t[6],m.getElementsByClassName("pres-val")[0].textContent=t[5],m.className="card "+n;let i=t[8]-t[9];i<a&&(a=i)}setTimeout(updateCards,1e3*a)})}setTimeout(updateCards,5e3);